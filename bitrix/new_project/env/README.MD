## Настройка окружения, файл ".env.php"

### Описание
Идея в том, чтобы хранить все пароли к базе данных и прочие настройки в одном файле ".env.php".

Каждый настраивает его для своего тестового сервера в самом начале и на протяжении разработки может менять его, не затрагивая при этом такой же файл на боевом сайте.

### Инструкция
Файл ".env.php" всегда располагается в "/local/.env.php" и имеет следующий вид [.env.php](/bitrix/new_project/env/.env.php). Этот файл исключен из git через gitignore. В нём хранится вся информация по подключению к БД.

Так же должен присутствовать файл "/local/.env.example.php", который попадает в git. Это файл пример.

**Важно! Перед внедрением файла окружения нужно убедиться в работоспособности функций putenv() и getenv()**, т.к. из-за настроек конкретного сервера могут быть проблемы.

Стоит обратить внимание, что **putenv()** преобразует переменную в строку:
##### 
    false = '', true = '1'
##### 
поэтому требуется дополнительная обработка таких параметров. Вместо true и false нужно использовать 1 и 0 для явного определения состояния.

Данные из .env.php нам нужны в /bitrix/php_interface/dbconn.php и /bitrix/.settings.php

Примеры корректной настройки приведены в файлах [dbconn.php](/bitrix/new_project/env/dbconn.php) и [.settings.php](/bitrix/new_project/env/.settings.php), обязательно нужно подключить "/local/.env.php" в каждом из этих двух файлов.

[Назад](/bitrix/new_project)